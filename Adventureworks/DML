/*
Creating and manipulating a data using DML
*/


CREATE DATABASE Demography

CREATE TABLE EMPLOYEE_DETAILS (
    EMPLOYEEID INT PRIMARY KEY NOT NULL,
    FIRSTNAME NVARCHAR(50) Not NULL,
    MIDDLENAME NVARCHAR(50) NULL,
    LASTNAME NVARCHAR(50) NOT NULL,
    EMAILADDRESS NVARCHAR(30),
    PHONENUMBER NVARCHAR(13)
)

SELECT * FROM EMPLOYEE_DETAILS

INSERT INTO EMPLOYEE_DETAILS
VALUES 
    (1, 'Jason', NULL, 'Statham', 'bfhsujriklhf@gmail.com', '12345678976'),
    (2, 'John', 'Jeffery' ,'Woo', 'ydjdusisbfjsb@gmail.com', '23457896895'),
    (3, 'Shaun', 'Aron', 'Murphy', 'Olamidefrancis@gmail.com', '0916573892'),
    (4, 'Bruno', NULL, 'Fernandez', 'husjskoryhfu@yahoo.com', '0657383902'),
    (5, 'Cristiano', 'Santos', 'Ronaldo', 'husjndolsh@gmail.com', '78492075467')

SELECT * FROM EMPLOYEE_DETAILS

CREATE TABLE CUSTOMERDETAILS
(
    EMPLOYEEID INT REFERENCES [dbo].[EMPLOYEE_DETAILS](EMPLOYEEID),
    CUSTOMERID INT PRIMARY KEY NOT NULL, 
    FIRSTNAME NVARCHAR(30) NOT NULL,
    LASTNAME NVARCHAR(30) NOT NULL,
    MODEOFCONTACT NVARCHAR(30) NOT NULL
)



SELECT * FROM CUSTOMERDETAILS

INSERT INTO CUSTOMERDETAILS
VALUES 
(5, 1, 'GREGORY', 'FAUCHER', 'INVITATION'),
(2, 2, 'BABETTE', 'DRAHOS', 'PROPOSAL'),
(4, 3, 'JOHN', 'LEE', 'INVITATION'),
(3, 4, 'AMRUTA', 'MOHOD', 'PROPOSAL'),
(1, 5, 'NANCY', 'FLINT', 'INVITATION')

SELECT * FROM CUSTOMERDETAILS

-- Retrieve Name of Employees with their various Clients

SELECT ED.FirstName + ' ' + ED.LASTNAME as Employee, CD.CUSTOMERID, CD.FirstName + ' ' + CD.LastName as CUSTOMERNAME
FROM dbo.EMPLOYEE_DETAILS as ED 
JOIN [dbo].[CUSTOMERDETAILS] as CD
ON ED.EMPLOYEEID = CD.EMPLOYEEID

CREATE TABLE TASKDETAILS (
    CLIENTID INT REFERENCES [dbo].[CUSTOMERDETAILS](CUSTOMERID),
    TASKID INT IDENTITY PRIMARY KEY NOT NULL,
    TITLEOFTASK NVARCHAR (100) NOT NULL, 
    WORDCOUNT INT NOT NULL, 
    TASKSTARTDATE DATETIME NOT NULL,
    TASKENDDATE DATETIME NOT NULL
)


SELECT * FROM TASKDETAILS

INSERT INTO TASKDETAILS 
VALUES 
(4, 'HOW TO DO IT YOURSELF', '500', '2023-03-01', '2023-03-05'),
(2, 'EMPLOYEE MISTREATMENT IN TECH INDUSTRY', '700', '2023-03-02', '2023-03-11'),
(5, 'YOUTUBE SCRIPT ON BREASTFEEDING', '750', '2023-03-04', '2023-03-15'),
(1, 'CNN AD SERIES SCRIPT', '110', '2023-02-02', '2022-03-05'),
(4, 'ADVANCED ART OF PHOTGRAPHY', '1500', '2023-02-02', '2023-03-05')

SELECT * FROM TASKDETAILS

UPDATE CUSTOMERDETAILS
SET 
    FIRSTNAME = 'LIONEL'
WHERE 
    CUSTOMERID = 1

SELECT * FROM CUSTOMERDETAILS

UPDATE EMPLOYEE_DETAILS
SET 
    LASTNAME = 'Troy',
    MIDDLENAME = 'Johnson'
WHERE 
    EMPLOYEEID =1

SELECT * FROM EMPLOYEE_DETAILS

-- Truncate will delete all the values in the table

TRUNCATE TABLE TASKDETAILS

SELECT * FROM [dbo].[TASKDETAILS] 

-- Drop will delete the whole table or database

DROP TABLE [dbo].[TASKDETAILS]

